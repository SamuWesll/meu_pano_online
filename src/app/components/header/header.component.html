<header class="navbar bg-nav-green p-4 text-light">
    <a href="#" class="navbar-brand mb-1 text-dark font-weight-bold" routerLink="/home">
        <img src="../../../assets/img/logo1.png" alt="">
    </a>
    <div class="input-group col-md-4 col-sm-12 mb-1">
        <input type="text" (keyup.enter)="pesquisarProduto(txtPesquisa.value)" class="form-control"
            placeholder="Sua pesquisa..." aria-label="Sua pesquisa..." aria-describedby="pesquisa" #txtPesquisa>
        <div class="input-group-append">
            <button class="btn btn-outline-info" type="button" id="pesquisa"></button>
        </div>
    </div>
    <div class="mb-1">
        <button type="button" class="btn btn-outline-success rounded login mr-2" data-toggle="modal"
        data-target="#login" (click)="modalLogin.show()">
            <span *ngIf="login">
                {{ separarNome(login['nome']) }}
            </span>
        </button>
        <a class="btn btn-outline-warning text-light rounded carrinho" href="#"></a>
    </div>
</header>

<nav class="navbar navbar-expand-lg navbar-light">
    <a class="navbar-brand" href="#">Produtos</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
            <li class="nav-item active" *ngFor="let cat of categorias">
                <a class="nav-link" (click)="btnFiltro(cat.cod)" 
                routerLink="/produtos/categoria/{{cat.cod}}">{{cat.nomeCategoria}}</a>
            </li>
        </ul>
    </div>
</nav>

<!-- ModalLogin -->
<div
  mdbModal
  #modalLogin="mdbModal"
  class="modal fade top"
  id="frameModalTop"
  tabindex="-1"
  role="dialog"
  aria-labelledby="myModalLabel"
  aria-hidden="true"
  style="overflow-y: auto"
>
    <!--Dialog-->
  <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header text-center">
            <h5 class="modal-title w-100">Já sou cliente PanoOnline</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="modalLogin.hide()">
                <span aria-hidden="true" class="white-text">&times;</span>
            </button>
        </div>
        <div *ngIf="!login">
            <form #login="ngForm">
                <div class="modal-body mt-4">
                    <div class="md-form row">
                        <label for="email" class="col-2 pt-2 text-center">Email</label>
                        <input id="email" type="text" mdbInput class="form-control col-9" [formControl]="emaiOuCpflInput" placeholder="E-mail ou CPF" required>
                    </div>
                    <div class="md-form row mt-4">
                        <label for="senha" class="col-2 pt-2 text-center">senha</label>
                        <input id="senha" type="password" name="senhaInput" mdbInput class="form-control col-9" [formControl]="senhaInput" required [maxlength]="30" [minlength]="5" placeholder="Digite sua senha">
                    </div>
                    <div class="d-flex justify-content-around mt-3">
                        <a id="esqueciSenha" class="text-uppercase text-decoration-none text-secondary font-weight-bold" data-toggle="modal" routerLink="/" (click)="modalEsqueciSenha.show(); modalLogin.hide()">
                            Esqueceu a senha?
                        </a>
                        <a class="text-uppercase text-decoration-none text-secondary font-weight-bold pr-1" data-dismiss="modal" routerLink="/cadastro" (click)="modalLogin.hide()">Criar cadastro</a>
                    </div>
                </div>
                <div class="modal-footer d-flex justify-content-center">
                    <button type="submit" class="btn btn-outline-success rounded" data-dismiss="modal" [disabled]="!senhaInput.valid || !emaiOuCpflInput.valid" (click)="realizarLogin()">Login</button>
                    <button type="button" class="btn btn-outline-danger rounded" (click)="modalLogin.hide()">Fechar</button>
                </div>
            </form>
        </div>
        <div *ngIf="login">
            <div class="modal-body mt-4">
                <div class="d-flex justify-content-between mt-3">
                    <h5 class="">Nome Completo:</h5>
                    <span>{{login.nome}}</span>
                </div>
                <div class="d-flex justify-content-between mt-3">
                    <h5 class="">E-mail:</h5>
                    <span>{{login.email}}</span>
                </div>
                <div class="d-flex justify-content-between mt-3">
                    <h5 class="">Data Nascimento</h5>
                    <span>{{login.dataNascimento}}</span>
                </div>
            </div>
            <div class="modal-footer d-flex justify-content-center">
                <button type="button" class="btn btn-outline-danger rounded" (click)="modalLogin.hide()">Fechar</button>
                <button type="button" class="btn btn-outline-warning rounded" (click)="sairLogin()">Sair da conta</button>
            </div>
        </div>
      </div>
  </div>
</div>

<!-- Modal Esqueci a senha -->
<div 
    mdbModal
    #modalEsqueciSenha="mdbModal"
    class="modal fade top"
    id="frameModalTop"
    tabindex="-1"
    role="dialog"
    aria-labelledby="myModalLabel"
    aria-hidden="true"
    style="overflow-y: auto">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h5 class="modal-title w-100">Esqueceu sua senha?</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="modalEsqueciSenha.hide()">
                    <span aria-hidden="true" class="white-text">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Por favor informe o seu endereço de e-mail abaixo. Você receberá um link para redefinir sua
                    senha.</p>
                <form action="">
                    <label for="emailEsqueciSenha">E-mail</label>
                    <input class="form-control" type="email" name="emailEsqueciSenha" id="emailEsqueciSenha" placeholder="Digite o seu e-mail">
                </form>
            </div>
            <div class="modal-footer d-flex justify-content-center">
                <button type="submit" class="btn btn-outline-success rounded" id="btnEnviarEmail">Enviar</button>
                <button type="button" class="btn btn-outline-danger rounded" (click)="modalLogin.show(); modalEsqueciSenha.hide()">Voltar</button>
            </div>
        </div>
    </div>
</div>
